{% extends 'base.html.twig' %}


{% block stylesheets %}
    <link href="{{ asset('http://www.w3schools.com/lib/w3.css') }}" rel="stylesheet" />
    <link href="{{ asset('css/register.css') }}" rel="stylesheet" />
    <link href="{{ asset('css/compte.css') }}" rel="stylesheet" />

{% endblock %}


{% block body %}
{% trans_default_domain 'FOSUserBundle' %}
{{ form_start(form, { 'action': path('fos_user_profile_edit'), 'attr': { 'class': 'fos_user_profile_edit' } }) }}


    <h1 id="titre" style="visibility:hidden">{% trans %}Bienvenue sur votre espace client{% endtrans %}</h1><br>

    <!-------------------Profile edit--------------------->

    <div id="champ_form" style="margin-left:auto;margin-right:auto;width:30%">
        <h1>{% trans %}Profil{% endtrans %}</h1>
            <br>

        <div>
            {{ form_label(form.username) }}
            {{ form_errors(form.username) }}
            {{ form_widget(form.username) }}
        </div>
        <div>
            {{ form_label(form.plainPassword.first) }}
            {{ form_errors(form.plainPassword.first) }}
            {{ form_widget(form.plainPassword.first) }}
        </div>
        <div>
            {{ form_label(form.plainPassword.second) }}
            {{ form_errors(form.plainPassword.second) }}
            {{ form_widget(form.plainPassword.second) }}
        </div>
        <div>
            {{ form_label(form.email) }}
            {{ form_errors(form.email) }}
            {{ form_widget(form.email) }}
        </div>
        <div>
            {{ form_label(form.lastname) }}
            {{ form_errors(form.lastname) }}
            {{ form_widget(form.lastname) }}
        </div>
        <div>
            {{ form_label(form.firstname) }}
            {{ form_errors(form.firstname) }}
            {{ form_widget(form.firstname) }}
        </div>

        {% if is_granted('ROLE_CONSUMER') %}
            <div>
                {{ form_label(form.birthDate) }}
                {{ form_errors(form.birthDate) }}
                {{ form_widget(form.birthDate) }}
            </div>
            <div>
                {{ form_label(form.sex) }}
                {{ form_errors(form.sex) }}
                {{ form_widget(form.sex) }}
            </div>
            <div>
                {{ form_label(form.phone) }}
                {{ form_errors(form.phone) }}
                {{ form_widget(form.phone) }}
            </div>
        {% endif %}

        {% if is_granted('ROLE_MEDIA') %}
            <div>
                {{ form_label(form.urlBlog) }}
                {{ form_errors(form.urlBlog) }}
                {{ form_widget(form.urlBlog) }}
            </div>
            <div>
                {{ form_label(form.idPresse) }}
                {{ form_errors(form.idPresse) }}
                {{ form_widget(form.idPresse) }}
            </div>
            <div>
                {{ form_label(form.companyName) }}
                {{ form_errors(form.companyName) }}
                {{ form_widget(form.companyName) }}
            </div>
        {% endif %}

        {% if is_granted('ROLE_PRODUCER') %}
            <div>
                {{ form_label(form.companyName) }}
                {{ form_errors(form.companyName) }}
                {{ form_widget(form.companyName) }}
            </div>
            <div>
                {{ form_label(form.siret) }}
                {{ form_errors(form.siret) }}
                {{ form_widget(form.siret) }}
            </div>
            <div>
                {{ form_label(form.address) }}
                {{ form_errors(form.address) }}
                {{ form_widget(form.address) }}
            </div>
            <div>
                {{ form_label(form.city) }}
                {{ form_errors(form.city) }}
                {{ form_widget(form.city) }}
            </div>
            <div>
                {{ form_label(form.postalCode) }}
                {{ form_errors(form.postalCode) }}
                {{ form_widget(form.postalCode) }}
            </div>
            <div>
                {{ form_label(form.phone) }}
                {{ form_errors(form.phone) }}
                {{ form_widget(form.phone) }}
            </div>
        {% endif %}


        <br>
            <div>
                <input type="submit" value="{{ 'profile.edit.submit'|trans }}" />
            </div>

    </div>


    <!-------------------Factures--------------------->

    <div id="Factures" class="w3-container city w3-animate-left" style="display:none">
        <h2>{% trans %}Factures & Paiements{% endtrans %}</h2>
        <div>
            <br>
            <p>blablabla</p>
            <p>blablabla</p>
        </div>

    </div>


<script>
    function openLink(evt, animName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("city");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
        }
        document.getElementById(animName).style.display = "block";
        evt.currentTarget.className += " w3-red";
    }
    openLink(null, 'Profile1');

</script>


{{ form_end(form) }}
{% endblock %}

